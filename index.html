<!DOCTYPE html>
<html>
<head>

	<title>Box Project</title>
	<script>
		
		var storagerow = [];
		var storage = [];
		var numOrderedCounter = 0;

		function main(){
			for(var i = 0; i < 100000; i++){
				var arr= createArray();
				var permuted = permute(arr[1]);
				permArr = [];
  				usedChars = [];
				// console.log(permuted);
				//sorting dimensions of the box in acending order
				arr[0]=arr[0].sort();

				storagerow.push(arr[0]);
				for(var j=0; j < permuted.length; j++){
					//check how many times pen goes in
					var z = packBoxOptimal(arr[0],permuted[j]);
					storagerow.push([z,permuted[j]]);
				}
				storage.push(storagerow);
				storagerow = [];
				

			}
			console.log(storage);
			
			var iterations = stats(storage);
			console.log("Number of times run: " + iterations + ", number of times our expected config worked: " + numOrderedCounter);
		}

		function stats(store){
			for(var row = 0; row<store.length; row++){
				//row is the row containing all information per box and pen iteration
				//value of greatest number of pencils fitting in box
				var index = Math.max(store[row][1][0], store[row][2][0], store[row][3][0], store[row][4][0], store[row][5][0], store[row][6][0]);
				if(index == 0){
					index = -1;
				}
				//finding index of greatest value
				for(var i = 1; i<7; i++){
					//checking to see if the value found by index is the number of times possible in the current configuration
					//if it is
					if(store[row][i].indexOf(index) != -1){
						//want to check relationship of the configuration with the configuration of the box
						// var preniy = store[row][i][1].sort();
						// console.log(store)
						if(store[row][i][1][0]<=store[row][i][1][1] && store[row][i][1][1] <= store[row][i][1][2]){
							numOrderedCounter++;
						}
					}
				}
			}
			return row;
		}

		function packBoxOptimal(box, pen){
			// pen.sort();
			var l = Math.floor(box[0] / pen[0]);
			var w = Math.floor(box[1] / pen[1]);
			var h = Math.floor(box[2] / pen[2]);
			var sorted = l * w * h;
			return sorted; //this needs to return the possible number of packed items for each permuatation
		}

		var permArr = [];
  		var usedChars = [];

		function permute(input) {	
		
		  var i, ch;
		  for (i = 0; i < input.length; i++) {
		    ch = input.splice(i, 1)[0];
		    usedChars.push(ch);
		    if (input.length == 0) {
		      permArr.push(usedChars.slice());
		    }
		    permute(input);
		    input.splice(i, 0, ch);
		    usedChars.pop();
		  }
		  //establishing our refrence array
		  for(var j=0;j<permArr.length;j++){
		  	//checking the whole array to see if there are any copies
		  	for(var k = 0;k<permArr.length;k++){
		  		if(j != k && permArr[j] == permArr[k]){
		  			console.log("THIS IS A PROM");
		  		}
		  	}
		  }
		  return permArr;
		};

		
		function createArray(){
			var l = 0;
			var w = 0;
			var h = 0;
			var pl = 0;
			var pw = 0;
			var ph = 0;
			var box = [];
			var pencil = [];
			l = Math.floor(1000 * Math.random());
			w = Math.floor(1000 * Math.random());
			h = Math.floor(1000 * Math.random());
			pl = Math.floor(100 * Math.random())+1;
			pw = Math.floor(100 * Math.random())+1;
			ph = Math.floor(100 * Math.random())+1;

			box.push(l);
			box.push(w);
			box.push(h);
			pencil.push(pl);
			pencil.push(pw);
			pencil.push(ph);
			return [box, pencil];
		}
		// var thing = createArray();
		// console.log("box: " + thing[0] + ", pencil: " + thing[1]);

		main();
	</script>
</head>
<body>

</body>
</html>